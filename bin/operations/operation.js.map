{"version":3,"sources":["../../lib/operations/operation.js"],"names":["Operation","configFileName","config","_config","configFile","fs","readFileSync","_","console","log","code","help","process","exit","yaml","safeLoad","error"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;;;;;AAEe,MAAMA,SAAN,CAAgB;AAC7B,aAAWC,cAAX,GAA4B;AAC1B,WAAO,mBAAP;AACD;AAED;;;AAGA,aAAWC,MAAX,GAAoB;AAClB,QAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB,UAAIC,UAAJ;;AACA,UAAI;AACFA,QAAAA,UAAU,GAAGC,YAAGC,YAAH,CAAiB,KAAI,KAAKL,cAAe,EAAzC,CAAb;AACD,OAFD,CAEE,OAAOM,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAa,eAAe,WAAD,CAAYC,IAAK,iDAAhC,CAAiFC,IAA7F;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;;AACD,UAAI;AACF,aAAKV,OAAL,GAAeW,gBAAKC,QAAL,CAAcX,UAAd,CAAf;AACD,OAFD,CAEE,OAAOY,KAAP,EAAc;AACdR,QAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDO,KAAtD;AACAJ,QAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;AACF;;AAED,WAAO,KAAKV,OAAZ;AACD;;AA1B4B;;;;gBAAVH,S","sourcesContent":["import '../typedef';\n\nimport fs from 'fs';\nimport yaml from 'js-yaml';\n\nexport default class Operation {\n  static get configFileName() {\n    return '.line-api-cli.yml';\n  }\n\n  /** @type {Config} */\n  static _config;\n\n  static get config() {\n    if (!this._config) {\n      let configFile;\n      try {\n        configFile = fs.readFileSync(`./${this.configFileName}`);\n      } catch (_) {\n        console.log(`Run command ${`line init`.code} to initialize project configuration file first`.help);\n        process.exit(0);\n      }\n      try {\n        this._config = yaml.safeLoad(configFile);\n      } catch (error) {\n        console.log('Unable to safe load configuration file', error);\n        process.exit(1);\n      }\n    }\n\n    return this._config;\n  }\n}\n"],"file":"operation.js"}