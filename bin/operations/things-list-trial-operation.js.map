{"version":3,"sources":["../../lib/operations/things-list-trial-operation.js"],"names":["ThingsListTrialOperation","ThingsOperation","usage","sections","header","help","content","code","run","validateConfig","trialProducts","response","listRequest","send","data","error","console","length","table","productsToTableData","log","info","ThingsListTrialProductsRequest","accessToken","config","channel"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AAEA;;;;;;AAEe,MAAMA,wBAAN,SAAuCC,wBAAvC,CAAuD;AAKpE,aAAWC,KAAX,GAAmB;AACjB;AACA,UAAMC,QAAQ,GAAG,CACf;AACEC,MAAAA,MAAM,EAAE,sBAAsBC,IADhC;AAEEC,MAAAA,OAAO,EAAG,mBAAD,CAAoBC;AAF/B,KADe,CAAjB;AAOA,WAAOJ,QAAP;AACD;;AAED,eAAaK,GAAb,GAAmB;AACjB,QAAI,CAAC,KAAKC,cAAL,EAAL,EAA4B;AAC1B,aAAO,KAAP;AACD;;AAED,QAAIC,aAAJ;;AAEA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAM,KAAKC,WAAL,CAAiBC,IAAjB,EAAvB;AAEAH,MAAAA,aAAa,GAAGC,QAAQ,CAACG,IAAzB;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,aAAO,KAAP;AACD;;AAED,QAAIL,aAAa,IAAIA,aAAa,CAACO,MAAnC,EAA2C;AACzCD,MAAAA,OAAO,CAACE,KAAR,CAAcjB,yBAAgBkB,mBAAhB,CAAoCT,aAApC,CAAd;AACD,KAFD,MAEO;AACLM,MAAAA,OAAO,CAACI,GAAR,CAAY,0BAA0BC,IAAtC;AACA,aAAO,IAAP;AACD;;AAED,WAAO,IAAP;AACD;;AAzCmE;;;;gBAAjDrB,wB,iBACE,IAAIsB,uCAAJ,CAAmC;AACtDC,EAAAA,WAAW,EAFMvB,wBAEJ,CAAKwB,MAAL,CAAYC,OAAZ,CAAoBF;AADqB,CAAnC,C","sourcesContent":["import 'console.table';\nimport { Section } from 'command-line-usage';\n\nimport ThingsOperation from './things-operation';\n\nimport ThingsListTrialProductsRequest from '../apis/things-list-trial-products-request';\n\nexport default class ThingsListTrialOperation extends ThingsOperation {\n  static listRequest = new ThingsListTrialProductsRequest({\n    accessToken: this.config.channel.accessToken\n  });\n\n  static get usage() {\n    /** @type {Section[]} */\n    const sections = [\n      {\n        header: 'List trial products'.help,\n        content: `things list:trial`.code\n      }\n    ];\n\n    return sections;\n  }\n\n  static async run() {\n    if (!this.validateConfig()) {\n      return false;\n    }\n\n    let trialProducts;\n\n    try {\n      const response = await this.listRequest.send();\n\n      trialProducts = response.data;\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n\n    if (trialProducts && trialProducts.length) {\n      console.table(ThingsOperation.productsToTableData(trialProducts));\n    } else {\n      console.log('Trial product not found'.info);\n      return true;\n    }\n\n    return true;\n  }\n}\n"],"file":"things-list-trial-operation.js"}